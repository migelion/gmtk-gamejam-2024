[gd_scene load_steps=18 format=3 uid="uid://cebi66gxphkvp"]

[ext_resource type="Script" path="res://scripts/object_controller.gd" id="1_1akay"]
[ext_resource type="Script" path="res://scripts/game_controller.gd" id="1_kcnws"]
[ext_resource type="AudioStream" uid="uid://c4084t05cw725" path="res://assets/sfx/scale hits/hit_light_1.wav" id="3_txwsj"]
[ext_resource type="Script" path="res://scripts/sound_controller.gd" id="3_wvbqk"]
[ext_resource type="AudioStream" uid="uid://dadackukt5t1h" path="res://assets/sfx/scale hits/hit_light_2.wav" id="4_5dpx3"]
[ext_resource type="AudioStream" uid="uid://dpxf3jei7akxv" path="res://assets/sfx/other sounds/pickup2.wav" id="5_twir8"]
[ext_resource type="Script" path="res://scripts/burden_timer.gd" id="9_tgafl"]
[ext_resource type="Texture2D" uid="uid://do3k80ppaxw24" path="res://assets/sprites/marble.png" id="11_wbjux"]
[ext_resource type="Texture2D" uid="uid://7efl5il8nte8" path="res://assets/sprites/coin.png" id="12_n7tvn"]
[ext_resource type="Texture2D" uid="uid://g7o80c4vf6lm" path="res://assets/sprites/cat.png" id="13_tjk87"]
[ext_resource type="Script" path="res://scripts/burden.gd" id="13_tnuiq"]
[ext_resource type="Script" path="res://scripts/mouse_controllable.gd" id="14_l6b5e"]
[ext_resource type="Script" path="res://scripts/respawns.gd" id="15_xv5my"]
[ext_resource type="PackedScene" uid="uid://dlfwq8d4t1fgo" path="res://scenes/scale.tscn" id="16_if4jh"]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_nysj8"]
streams_count = 2
stream_0/stream = ExtResource("3_txwsj")
stream_1/stream = ExtResource("4_5dpx3")

[sub_resource type="CircleShape2D" id="CircleShape2D_75dwd"]
radius = 15.0

[sub_resource type="CircleShape2D" id="CircleShape2D_7qbqu"]
radius = 8.0

[node name="Scene" type="Node2D"]

[node name="Controllers" type="Node" parent="."]

[node name="GameController" type="Node" parent="Controllers"]
script = ExtResource("1_kcnws")

[node name="ObjectController" type="Node" parent="Controllers"]
script = ExtResource("1_1akay")

[node name="SoundController" type="Node" parent="Controllers"]
unique_name_in_owner = true
script = ExtResource("3_wvbqk")

[node name="ImpactSound" type="AudioStreamPlayer" parent="Controllers/SoundController"]
unique_name_in_owner = true
stream = SubResource("AudioStreamRandomizer_nysj8")

[node name="PickupSound" type="AudioStreamPlayer" parent="Controllers/SoundController"]
unique_name_in_owner = true
stream = ExtResource("5_twir8")

[node name="BurdenTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true
script = ExtResource("9_tgafl")

[node name="Scale" parent="." instance=ExtResource("16_if4jh")]
position = Vector2(888, 240)

[node name="RespawnPoint1" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(680, -32)

[node name="RespawnPoint2" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(1064, -32)

[node name="Offscreen" type="Node2D" parent="."]
physics_interpolation_mode = 2
visible = false

[node name="Burdens" type="Node2D" parent="Offscreen"]
unique_name_in_owner = true

[node name="Marble" type="RigidBody2D" parent="Offscreen/Burdens"]
freeze = true
contact_monitor = true
max_contacts_reported = 1
script = ExtResource("13_tnuiq")

[node name="Sprite2D" type="Sprite2D" parent="Offscreen/Burdens/Marble"]
scale = Vector2(0.128, 0.128)
texture = ExtResource("11_wbjux")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Offscreen/Burdens/Marble"]
shape = SubResource("CircleShape2D_75dwd")

[node name="Coin" type="RigidBody2D" parent="Offscreen/Burdens"]
position = Vector2(-34, -14)
mass = 0.25
freeze = true
contact_monitor = true
max_contacts_reported = 1
script = ExtResource("13_tnuiq")

[node name="Sprite2D" type="Sprite2D" parent="Offscreen/Burdens/Coin"]
scale = Vector2(0.125, 0.125)
texture = ExtResource("12_n7tvn")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Offscreen/Burdens/Coin"]
shape = SubResource("CircleShape2D_7qbqu")

[node name="Cat" type="RigidBody2D" parent="Offscreen/Burdens"]
position = Vector2(40, 15)
mass = 8.0
freeze = true
script = ExtResource("13_tnuiq")
spawnRate = 0.1

[node name="Sprite2D" type="Sprite2D" parent="Offscreen/Burdens/Cat"]
scale = Vector2(0.25, 0.25)
texture = ExtResource("13_tjk87")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Offscreen/Burdens/Cat"]
polygon = PackedVector2Array(23, -7, 29, -37, 4, -35, 6, -20, -18, -10, -29, 35, 18, 35, 14, 13)

[node name="Scripts" type="Node" parent="Offscreen"]

[node name="MouseControllable" type="Node" parent="Offscreen/Scripts"]
unique_name_in_owner = true
script = ExtResource("14_l6b5e")

[node name="Respawns" type="Node" parent="Offscreen/Scripts"]
unique_name_in_owner = true
script = ExtResource("15_xv5my")

[node name="Node2D" type="Node2D" parent="."]

[node name="ScarabDropRight" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(1228, 332)

[node name="ScarabDropLeft" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(516, 332)

[node name="ScarabSpawnLeft" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(-79, 437)

[node name="ScarabSpawnRight" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(1337, 437)

[node name="ScarabDespawnRight" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(988, -126)

[connection signal="body_entered" from="Offscreen/Burdens/Marble" to="Offscreen/Burdens/Marble" method="_on_body_entered"]
[connection signal="body_entered" from="Offscreen/Burdens/Coin" to="Offscreen/Burdens/Coin" method="_on_body_entered"]
[connection signal="pickup" from="Offscreen/Scripts/MouseControllable" to="Controllers/SoundController" method="_on_mouse_controllable_pickup"]
